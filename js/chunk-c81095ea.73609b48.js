(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c81095ea"],{"4f7f":function(t,e,a){},"704a":function(t,e,a){"use strict";var o=a("d6c1"),n=a.n(o);n.a},"75b5":function(t,e,a){"use strict";var o=a("c427");function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,a){return e&&c(t.prototype,e),a&&c(t,a),t}var i=function(){function t(){n(this,t)}return r(t,[{key:"getAll",value:function(){return o["a"].get("Stock")}},{key:"getAllPagnation",value:function(t){return o["a"].get("Stock",{params:t})}},{key:"get",value:function(t){return o["a"].get("Stock?Id=".concat(t))}},{key:"search",value:function(t){return o["a"].get("Stock/Search",{params:t})}},{key:"create",value:function(t){return o["a"].post("Stock",t)}},{key:"update",value:function(t,e){return o["a"].put("Stock?Id=".concat(t),e)}},{key:"delete",value:function(t){return o["a"].delete("Stock?Id=".concat(t))}}]),t}();e["a"]=new i},"7e0c":function(t,e,a){"use strict";var o=a("4f7f"),n=a.n(o);n.a},9384:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contanier"},[a("div",{staticClass:"row"},[a("Stock-Table",{staticClass:"flex md6 sm12 xs12"})],1)])},n=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{staticClass:"w-100",attrs:{title:t.$t("tables.labelStock")}},[a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",icon:"fa fa-plus",flat:""},on:{click:t.showCreateModal},slot:"actions"}),a("div",{staticClass:"row mr-0"},[a("div",{staticClass:"flex xs12 sm4"},[a("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("forms.search"))+" ")]),a("va-input",{attrs:{placeholder:t.$t("forms.search")},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",icon:"fa fa-search",flat:"",color:"success"},on:{click:t.search},slot:"actions"}),a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",icon:"fa fa-trash",flat:"",color:"danger"},on:{click:t.deletesearch},slot:"actions"})],1),a("va-data-table",{attrs:{fields:t.fields,data:t.dataTable,loading:t.loading,totalPages:t.totalPages,"no-pagination":t.searchBool,"api-mode":"",hoverable:""},on:{"page-selected":t.readItems},scopedSlots:t._u([{key:"marker",fn:function(t){return[a("va-icon",{attrs:{name:"fa fa-circle",color:t.rowData.color,size:"8px"}})]}},{key:"actions",fn:function(e){return[a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"gray"},on:{click:function(a){return t.showEditModal(e.rowData)}}},[t._v(" "+t._s(t.$t("tables.edit"))+" ")]),a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"danger"},on:{click:function(a){return t.showDeleteModal(e.rowData)}}},[t._v(" "+t._s(t.$t("tables.delete"))+" ")])]}}])}),a("va-modal",{attrs:{"no-outside-dismiss":"",title:t.$t("generic.deleteItemTitle"),okText:t.$t("modal.delete"),cancelText:t.$t("modal.cancel"),message:t.$t("generic.deleteItemMsg")},on:{ok:function(e){return t.okDeletefun()},cancel:function(e){return t.cancleDeletefun()}},model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}}),a("va-modal",{attrs:{"no-outside-dismiss":"",title:t.$t("generic.editItemTitle"),okText:t.$t("modal.edit"),cancelText:t.$t("modal.cancel")},on:{ok:function(e){return t.okEditfun()},cancel:function(e){return t.cancleEditfun()}},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"flex md12 sm12 xs12"},[a("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.name"))+" ")]),a("va-input",{attrs:{placeholder:t.$t("placeholder.name")},model:{value:t.currentobject.name,callback:function(e){t.$set(t.currentobject,"name",e)},expression:"currentobject.name"}})],1)])]),a("va-modal",{attrs:{"no-outside-dismiss":"",title:t.$t("generic.creatItemTitle"),okText:t.$t("modal.create"),cancelText:t.$t("modal.cancel")},on:{ok:function(e){return t.okCreatefun()},cancel:function(e){return t.cancleCreatefun()}},model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"flex md12 sm12 xs12"},[a("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.name"))+" ")]),a("va-input",{attrs:{placeholder:t.$t("placeholder.name")},model:{value:t.currentobject.name,callback:function(e){t.$set(t.currentobject,"name",e)},expression:"currentobject.name"}})],1)])])],1)},r=[],i=a("75b5"),s={data:function(){return{perPage:10,totalPages:0,dataTable:[],deleteModal:!1,editModal:!1,createModal:!1,loading:!0,opjectBeforeEdit:{},currentobject:{},searchText:"",searchBool:!1}},computed:{fields:function(){return[{name:"__slot:marker",width:"30px",dataClass:"text-center"},{name:"name",title:this.$t("tables.headings.name")},{name:"__slot:actions",dataClass:"text-right"}]}},created:function(){this.readItems()},methods:{readItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var a={PageSize:this.perPage,PageNumber:e};i["a"].getAllPagnation(a).then((function(e){t.dataTable=e.data;var a=JSON.parse(e.headers["x-pagination"]);t.totalPages=a.TotalPages,t.loading=!1}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},search:function(){var t=this;this.loading=!0;var e={Text:this.searchText};this.dataTable=[],i["a"].search(e).then((function(e){t.dataTable=e.data,t.totalPages=Math.ceil(t.dataTable.length/10),t.loading=!1}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},deletesearch:function(){this.searchText="",this.searchBool=!1,this.readItems()},create:function(){var t=this;i["a"].create(this.currentobject).then((function(e){t.dataTable.push(e.data),"true"===e.headers["x-status"]?(t.loading=!1,t.currentobject={},t.showToast(t.$t("generic.done"),{icon:"fa-check",position:"bottom-center",duration:2500,type:"success"})):(t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"}))}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},edit:function(t){var e=this;i["a"].update(this.currentobject.id,this.currentobject).then((function(t){if("true"===t.headers["x-status"]){var a=e.dataTable.findIndex((function(t){return t.id===e.currentobject.id}));e.dataTable[a].name=e.currentobject.name,e.currentobject={},e.loading=!1,e.showToast(e.$t("generic.done"),{icon:"fa-check",position:"bottom-center",duration:2500,type:"success"})}else e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}),(function(t){console.error(t),e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},remove:function(t){var e=this;i["a"].delete(t).then((function(a){if("true"===a.headers["x-status"]){var o=e.dataTable.findIndex((function(e){return e.id===t}));e.dataTable.splice(o,1),e.loading=!1,e.showToast(e.$t("generic.done"),{icon:"fa-check",position:"bottom-center",duration:2500,type:"success"})}else e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}),(function(t){console.error(t),e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},showDeleteModal:function(t){this.deleteModal=!0,this.currentobject=t,this.loading=!0},okDeletefun:function(){this.remove(this.currentobject.id)},cancleDeletefun:function(){this.loading=!1},showEditModal:function(t){this.editModal=!0,this.opjectBeforeEdit=Object.assign({},t),this.currentobject=t,this.loading=!0},okEditfun:function(){this.edit(this.currentobject)},cancleEditfun:function(){this.loading=!1,console.log("ddd"),Object.assign(this.currentobject,this.opjectBeforeEdit),this.currentobject={}},showCreateModal:function(){this.createModal=!0,this.loading=!0},okCreatefun:function(){this.create()},cancleCreatefun:function(){this.loading=!1,this.currentobject={}}}},l=s,u=(a("704a"),a("2877")),d=Object(u["a"])(l,c,r,!1,null,null,null),f=d.exports,h={name:"Stock",components:{StockTable:f},data:function(){return{}}},m=h,b=(a("7e0c"),Object(u["a"])(m,o,n,!1,null,null,null));e["default"]=b.exports},c427:function(t,e,a){"use strict";var o=a("bc3a"),n=a.n(o);e["a"]=n.a.create({baseURL:"https://cors-anywhere.herokuapp.com/mahmmoudahmed-001-site7.ftempurl.com/api/v1/",headers:{"Content-type":"application/json"}})},d6c1:function(t,e,a){}}]);
//# sourceMappingURL=chunk-c81095ea.73609b48.js.map