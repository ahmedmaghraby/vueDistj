(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e2b7728"],{"1afb":function(t,e,n){"use strict";var a=n("bbeb"),i=n.n(a);i.a},3526:function(t,e,n){"use strict";var a=n("4888"),i=n.n(a);i.a},4888:function(t,e,n){},b2d2:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contanier"},[n("div",{staticClass:"row"},[n("invoices-Table",{staticClass:"flex md12 sm12 xs12"})],1)])},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("va-card",{staticClass:"w-100",attrs:{title:t.$t("tables.labelinvoices")}},[n("div",{staticClass:"row mr-0"},[n("div",{staticClass:"flex xs12 md3 offset--md3"},[n("va-select",{attrs:{label:t.$t("tables.perPage"),options:t.invOptions,noClear:""},model:{value:t.invtypeString,callback:function(e){t.invtypeString=e},expression:"invtypeString"}})],1)]),n("va-data-table",{attrs:{fields:t.fields,data:t.dataTable,loading:t.loading,totalPages:t.totalPages,"api-mode":"",hoverable:""},on:{"page-selected":t.readItems},scopedSlots:t._u([{key:"marker",fn:function(e){return[t._v(" "+t._s(e.rowIndex+1)+" ")]}},{key:"date",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.rowData.date))+" ")]}},{key:"is_Cash",fn:function(e){return[t._v(" "+t._s(e.rowData.is_Cash?"✔":"✘")+" ")]}},{key:"iS_Paid",fn:function(e){return[t._v(" "+t._s(e.rowData.iS_Paid?"✔":"✘")+" ")]}},{key:"inv_dueDate",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.rowData.inv_dueDate))+" ")]}},{key:"customers",fn:function(e){return[t._v(" "+t._s(null===e.rowData.customers?"-----":e.rowData.customers.name)+" ")]}},{key:"employees",fn:function(e){return[t._v(" "+t._s(null===e.rowData.employees?"-----":e.rowData.employees.name)+" ")]}},{key:"actions",fn:function(e){return[n("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"gray"},on:{click:function(n){return t.showEditModal(e.rowData)}}},[t._v(" "+t._s(t.$t("tables.edit"))+" ")])]}}])}),n("va-modal",{attrs:{"no-outside-dismiss":"",title:t.$t("generic.deleteItemTitle"),okText:t.$t("modal.delete"),cancelText:t.$t("modal.cancel"),message:t.$t("generic.deleteItemMsg")},on:{ok:function(e){return t.okDeletefun()},cancel:function(e){return t.cancleDeletefun()}},model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}}),n("va-modal",{attrs:{"no-outside-dismiss":"",size:"large",title:t.$t(t.modelTitle),"hide-default-actions":""},model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[n("form",{on:{submit:function(e){e.preventDefault(),t.editModal?t.okEditfun():t.okCreatefun()}}},[n("div",{staticClass:"d-flex justify--center mt-3"},[n("va-button",{attrs:{type:"button",color:"gray",flat:""},on:{click:function(e){t.editModal?t.cancleEditfun():t.cancleCreatefun()}}},[t._v(" "+t._s(t.$t("modal.cancel"))+" ")]),n("va-button",{staticClass:"my-0",attrs:{type:"submit",disabled:t.stopBtn}},[t._v(t._s(t.$t(t.modelOktext)))])],1)])])],1)},r=[],s=n("fe5e"),c={data:function(){return{modelTitle:"",modelOktext:"",stopBtn:!1,perPage:10,totalPages:0,inv_type:1,invtypeString:"sell",invOptions:["sell","buy","RSaleInv","RbuyInv","PreviewInv"],OrderBy:null,dataTable:[],deleteModal:!1,editModal:!1,createModal:!1,loading:!0,opjectBeforeEdit:{},currentobject:{},fKCity:{value:"",options:[]}}},computed:{fields:function(){return[{name:"__slot:marker",width:"30px",dataClass:"text-center",title:"#"},{name:"__slot:date",title:this.$t("tables.headings.date")},{name:"total_Price",title:this.$t("tables.headings.total_Price")},{name:"__slot:is_Cash",title:this.$t("tables.headings.is_Cash")},{name:"__slot:iS_Paid",title:this.$t("tables.headings.iS_Paid")},{name:"paid",title:this.$t("tables.headings.paid")},{name:"tax",title:this.$t("tables.headings.tax")},{name:"__slot:inv_dueDate",title:this.$t("tables.headings.inv_dueDate")},{name:"__slot:customers",title:this.$t("tables.headings.customers")},{name:"__slot:employees",title:this.$t("tables.headings.employees")},{name:"__slot:actions",dataClass:"text-right"}]}},watch:{invtypeString:function(){switch(this.invtypeString){case"sell":this.inv_type=1;break;case"buy":this.inv_type=2;break;case"RSaleInv":this.inv_type=3;break;case"RbuyInv":this.inv_type=4;break;case"PreviewInv":this.inv_type=5;break;default:this.inv_type=1;break}this.readItems()}},created:function(){this.readItems()},methods:{readItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var n={PageSize:this.perPage,PageNumber:e,OrderBy:this.OrderBy,inv_type:this.inv_type,Fk_CompanyActivity:1};s["a"].getAllPagnation(n).then((function(e){t.loading=!1,t.dataTable=e.data;var n=JSON.parse(e.headers["x-pagination"]);t.totalPages=n.TotalPages}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"})}))},formatDate:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n={weekday:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(t).toLocaleDateString("en-GB",n)}var a={year:"numeric",month:"numeric",day:"numeric"};return new Date(t).toLocaleDateString("en-GB",a)},create:function(){var t=this;""!==this.fKCity.value&&(this.currentobject.fK_City=this.fKCity.value.id),this.currentobject.Customer_Type?this.currentobject.fK_Customer_Type=2:this.currentobject.fK_Customer_Type=1,s["a"].create(this.currentobject).then((function(e){"true"===e.headers["x-status"]?(t.readItems(),t.loading=!1,t.currentobject={},t.fKCity="",t.createModal=!1,t.stopBtn=!1,t.showToast(t.$t("generic.done"),{icon:"fa-check",position:"bottom-right",duration:1500,type:"success"})):(t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"}))}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"})}))},edit:function(t){var e=this;""!==this.fKCity.value&&(this.currentobject.fK_City=this.fKCity.value.id),this.currentobject.Customer_Type?this.currentobject.fK_Customer_Type=2:this.currentobject.fK_Customer_Type=1,s["a"].update(this.currentobject.id,this.currentobject).then((function(t){"true"===t.headers["x-status"]?(e.readItems(),e.currentobject={},e.fKCity.value="",e.loading=!1,e.editModal=!1,e.createModal=!1,e.stopBtn=!1,e.showToast(e.$t("generic.done"),{icon:"fa-check",position:"bottom-right",duration:1500,type:"success"})):(e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"}))}),(function(t){console.error(t),e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"})}))},remove:function(t){var e=this;s["a"].delete(t).then((function(n){if("true"===n.headers["x-status"]){var a=e.dataTable.findIndex((function(e){return e.id===t}));e.dataTable.splice(a,1),e.loading=!1,e.showToast(e.$t("generic.done"),{icon:"fa-check",position:"bottom-right",duration:1500,type:"success"})}else e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"})}),(function(t){console.error(t),e.loading=!1,e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-right",duration:1500,type:"error"})}))},showDeleteModal:function(t){this.deleteModal=!0,this.currentobject=t,this.Productpriceloading=!0},okDeletefun:function(){this.remove(this.currentobject.id)},cancleDeletefun:function(){this.loading=!1},showEditModal:function(t){this.editModal=!0,this.modelTitle="generic.editItemTitle",this.modelOktext="modal.edit",this.createModal=!0,this.fKCity.value=t.city,this.opjectBeforeEdit=Object.assign({},t),this.currentobject=t,this.currentobject.Customer_Type=2===this.currentobject.fK_Customer_Type,this.loading=!0},okEditfun:function(){this.stopBtn=!0,this.edit(this.currentobject)},cancleEditfun:function(){Object.assign(this.currentobject,this.opjectBeforeEdit),this.createModal=!1,this.loading=!1,this.currentobject={},this.fKCity.value="",this.editModal=!1,this.stopBtn=!1},showCreateModal:function(){this.modelTitle="generic.creatItemTitle",this.modelOktext="modal.create",this.createModal=!0,this.loading=!0},okCreatefun:function(){this.stopBtn=!0,this.create()},cancleCreatefun:function(){this.createModal=!1,this.loading=!1,this.currentobject={},this.fKCity.value="",this.stopBtn=!1}}},l=c,u=(n("1afb"),n("2877")),d=Object(u["a"])(l,o,r,!1,null,null,null),f=d.exports,h={name:"invoices",components:{invoicesTable:f},data:function(){return{}}},m=h,p=(n("3526"),Object(u["a"])(m,a,i,!1,null,null,null));e["default"]=p.exports},bbeb:function(t,e,n){},c427:function(t,e,n){"use strict";var a=n("bc3a"),i=n.n(a);e["a"]=i.a.create({baseURL:"http://mahmmoudahmed-001-site7.ftempurl.com/api/v1/",headers:{"Content-type":"application/json"}})},fe5e:function(t,e,n){"use strict";var a=n("c427");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var s=function(){function t(){i(this,t)}return r(t,[{key:"getNewBill",value:function(t,e){return a["a"].get("Bill/GetProductsByCustomer?id=".concat(t,"&Company_Activity=").concat(e))}},{key:"getUintAndPriceByCUstomer",value:function(t,e){return a["a"].get("Bill/GetProductUintAndPrice?productId=".concat(t,"&customerId=").concat(e))}},{key:"getAll",value:function(){return a["a"].get("Bill")}},{key:"getAllPagnation",value:function(t){return a["a"].get("Bill/GetAllPaging",{params:t})}},{key:"get",value:function(t){return a["a"].get("Bill/getById?Id=".concat(t))}},{key:"create",value:function(t){return a["a"].post("Bill",t)}},{key:"update",value:function(t,e){return a["a"].put("Bill?Id=".concat(t),e)}},{key:"delete",value:function(t){return a["a"].delete("Bill?Id=".concat(t))}}]),t}();e["a"]=new s}}]);
//# sourceMappingURL=chunk-6e2b7728.fe81284f.js.map