(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19c266fe"],{"1e7d":function(t,e,a){"use strict";var n=a("55f2"),r=a.n(n);r.a},"55f2":function(t,e,a){},"63d9":function(t,e,a){"use strict";var n=a("d3bb"),r=a.n(n);r.a},ae5c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contanier"},[a("div",{staticClass:"row"},[a("Attendance-Table",{staticClass:"flex md12 sm12 xs12"})],1)])},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{staticClass:"w-100",attrs:{title:t.$t("tables.labelAttendance")}},[a("div",{staticClass:"row mr-0"},[a("div",{staticClass:"flex xs12 sm4"},[a("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("forms.search"))+" ")]),a("va-input",{attrs:{removable:"",placeholder:t.$t("forms.search")},on:{input:t.searchDelay,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)]),a("va-data-table",{attrs:{fields:t.fields,data:t.dataTable,loading:t.loading,totalPages:t.totalPages,"no-pagination":t.searchBool,"api-mode":"",hoverable:""},on:{"page-selected":t.readItems},scopedSlots:t._u([{key:"marker",fn:function(t){return[a("va-icon",{attrs:{name:"fa fa-circle",color:t.rowData.color,size:"8px"}})]}},{key:"date",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.rowData.date))+" ")]}},{key:"iS_Vacation",fn:function(e){return[t._v(" "+t._s(e.rowData.iS_Vacation?"✔":"✘")+" ")]}},{key:"actions",fn:function(e){return[a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"gray"},on:{click:function(a){return t.showEditModal(e.rowData)}}},[t._v(" "+t._s(t.$t("tables.edit"))+" ")]),a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"danger"},on:{click:function(a){return t.showDeleteModal(e.rowData)}}},[t._v(" "+t._s(t.$t("tables.delete"))+" ")])]}}])})],1)},s=[],i=a("c427");function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,a){return e&&c(t.prototype,e),a&&c(t,a),t}var u=function(){function t(){l(this,t)}return d(t,[{key:"getAllPagnation",value:function(t){return i["a"].get("Attendance",{params:t})}},{key:"search",value:function(t){return i["a"].get("Attendance/Search",{params:t})}}]),t}(),h=new u,f=a("2ef0"),m={data:function(){return{perPage:10,totalPages:0,dataTable:[],deleteModal:!1,editModal:!1,createModal:!1,loading:!0,opjectBeforeEdit:{},currentobject:{},searchText:"",searchBool:!1}},computed:{fields:function(){return[{name:"__slot:marker",width:"30px",dataClass:"text-center"},{name:"__slot:date",title:this.$t("tables.headings.date"),sortField:"date",sortCallBack:"sortCallBack|date"},{name:"total_Attendance",title:this.$t("tables.headings.total_Attendance"),sortField:"total_Attendance",sortCallBack:"sortCallBack|total_Attendance"},{name:"total_Absence",title:this.$t("tables.headings.total_Absence"),sortField:"total_Absence",sortCallBack:"sortCallBack|total_Absence"},{name:"__slot:iS_Vacation",title:this.$t("tables.headings.iS_Vacation")}]}},created:function(){this.readItems()},methods:{readItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.loading=!0,this.pageNumber=e;var n={PageSize:this.perPage,PageNumber:e,OrderBy:a};h.getAllPagnation(n).then((function(e){t.dataTable=e.data;var a=JSON.parse(e.headers["x-pagination"]);t.totalPages=a.TotalPages,t.loading=!1}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},sortCallBack:function(t){this.readItems(1,t[0].toString().charAt(0).toUpperCase()+t[0].toString().slice(1))},formatDate:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var a={weekday:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(t).toLocaleDateString("en-GB",a)}var n={year:"numeric",month:"numeric",day:"numeric"};return new Date(t).toLocaleDateString("en-GB",n)},searchDelay:Object(f["debounce"])((function(t){this.search()}),800),search:function(){var t=this;if(this.loading=!0,""===this.searchText)return this.readItems();var e={Text:this.searchText};this.dataTable=[],h.search(e).then((function(e){t.dataTable=e.data,t.totalPages=Math.ceil(t.dataTable.length/10),t.loading=!1}),(function(e){console.error(e),t.loading=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},deletesearch:function(){this.searchText="",this.searchBool=!1,this.readItems()}}},b=m,g=(a("63d9"),a("2877")),p=Object(g["a"])(b,o,s,!1,null,null,null),v=p.exports,_={name:"Attendance",components:{AttendanceTable:v},data:function(){return{}}},k=_,y=(a("1e7d"),Object(g["a"])(k,n,r,!1,null,null,null));e["default"]=y.exports},c427:function(t,e,a){"use strict";var n=a("bc3a"),r=a.n(n);e["a"]=r.a.create({baseURL:"https://yellow-sun.net/api/v1/",headers:{"Content-type":"application/json"}})},d3bb:function(t,e,a){}}]);
//# sourceMappingURL=chunk-19c266fe.95433e51.js.map