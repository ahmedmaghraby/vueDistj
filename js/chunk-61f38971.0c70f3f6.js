(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61f38971"],{"1ec6":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"contanier"},[o("div",{staticClass:"row",staticStyle:{"justify-content":"center"}},[o("va-card",{staticClass:"flex md8 sm12 xs12",attrs:{title:t.$t("tables.labelConvertStock")}},[o("form",{on:{submit:function(e){return e.preventDefault(),t.addToSubsfun()}}},[o("div",{staticClass:"row flex-center"},[o("div",{staticClass:"flex md6 sm12 xs12 px-1"},[o("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.FromStock"))+" ")]),o("va-select",{attrs:{label:t.$t("placeholder.FromStock"),required:"",searchable:"",disabled:!(""===t.fKStock.fromstock||null===t.fKStock.fromstock),textBy:"name",keyBy:"id",options:t.fKStock.options},model:{value:t.fKStock.fromstock,callback:function(e){t.$set(t.fKStock,"fromstock",e)},expression:"fKStock.fromstock"}})],1),o("div",{staticClass:"flex md6 sm12 xs12 px-1"},[o("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.ToStock"))+" ")]),o("va-select",{attrs:{label:t.$t("placeholder.ToStock"),disabled:!(""===t.fKStock.tostock||null===t.fKStock.tostock),required:"",searchable:"",textBy:"name",keyBy:"id",options:t.fKStock.options},model:{value:t.fKStock.tostock,callback:function(e){t.$set(t.fKStock,"tostock",e)},expression:"fKStock.tostock"}})],1),o("div",{staticClass:"flex md6 sm12 xs12 px-1"},[o("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.productName"))+" ")]),o("va-select",{attrs:{label:t.$t("placeholder.productName"),required:"",searchable:"",textBy:"name",keyBy:"id",options:t.fKProduct.options},model:{value:t.fKProduct.value,callback:function(e){t.$set(t.fKProduct,"value",e)},expression:"fKProduct.value"}})],1),o("div",{staticClass:"flex md4 sm12 xs12 px-1"},[o("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.uintName"))+" ")]),o("va-select",{attrs:{label:t.$t("placeholder.uintName"),required:"",searchable:"",textBy:"name",keyBy:"id",options:t.fKUint.options},model:{value:t.fKUint.value,callback:function(e){t.$set(t.fKUint,"value",e)},expression:"fKUint.value"}})],1),o("div",{staticClass:"flex md4 sm12 xs12 px-1"},[o("label",{staticClass:"input-label"},[t._v(" "+t._s(t.$t("placeholder.quantity"))+" ")]),o("va-input",{attrs:{type:"number",step:"1",min:"0",placeholder:t.$t("placeholder.quantity"),required:""},model:{value:t.subs.quantity,callback:function(e){t.$set(t.subs,"quantity",e)},expression:"subs.quantity"}})],1),o("div",{staticClass:"d-flex justify--center mt-3"},[o("va-button",{attrs:{type:"submit",disabled:t.stopBtn,color:"success"}},[t._v(" "+t._s(t.$t("modal.add"))+" ")])],1)]),o("div",{staticClass:"row"},[o("va-data-table",{staticStyle:{width:"100%"},attrs:{fields:t.Sub_fields,data:t.currentobject.tr_Stock_Subs,"api-mode":"","no-pagination":""},scopedSlots:t._u([{key:"marker",fn:function(e){return[t._v(" "+t._s(e.rowIndex+1)+" ")]}},{key:"actions",fn:function(e){return[o("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"danger"},on:{click:function(o){return t.deletafromsubs(e.rowIndex)}}},[t._v(" "+t._s(t.$t("tables.delete"))+" ")])]}}])})],1),o("div",{staticClass:"d-flex justify--center mt-3"},[o("va-button",{staticClass:"my-0",attrs:{type:"button",flat:"",disabled:t.stopBtn},on:{click:function(e){return t.create()}}},[t._v(t._s(t.$t("modal.ok"))+" ")])],1)])])],1)])},a=[],s=o("75b5"),c=o("966e"),r=o("e7c7"),i=o("b3a6"),u={name:"ConvertStock",data:function(){return{fKProduct:{value:"",options:[]},fKStock:{fromstock:"",tostock:"",options:[]},fKUint:{value:"",options:[]},currentobject:{tr_Stock_Subs:[]},subs:{},stopBtn:!1}},watch:{"fKProduct.value":function(t){console.log("ff"),this.fKUint.value="",this.getUints(t.id)}},computed:{Sub_fields:function(){return[{name:"__slot:marker",width:"30px",dataClass:"text-center",title:"#"},{name:"products",title:this.$t("tables.headings.product")},{name:"fromstock",title:this.$t("tables.headings.fromStock")},{name:"tostock",title:this.$t("tables.headings.toStock")},{name:"units",title:this.$t("tables.headings.units")},{name:"quantity",title:this.$t("tables.headings.quantity")},{name:"__slot:actions",dataClass:"text-right"}]}},created:function(){this.getproduct(),this.getStock()},methods:{getproduct:function(){var t=this,e={Fk_Company_Activity:1};r["a"].getAllPagnation(e).then((function(e){t.fKProduct.options=e.data}),(function(e){console.error(e),t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},getStock:function(){var t=this;s["a"].getAll().then((function(e){t.fKStock.options=e.data}),(function(e){console.error(e),t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},getUints:function(t){var e=this,o={Id_Product:t};i["a"].getAllPagnation(o).then((function(t){e.fKUint.options=t.data}),(function(t){console.error(t),e.showToast(e.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})}))},create:function(){var t=this;return null===this.fKStock.fromstock||""===this.fKStock.fromstock||null===this.fKStock.tostock||""===this.fKStock.tostock?(this.stopBtn=!1,this.showToast(this.$t("generic.filldata"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})):this.fKStock.tostock.id===this.fKStock.fromstock.id?(this.stopBtn=!1,this.fKStock.fromstock="",this.fKStock.tostock="",this.showToast(this.$t("generic.chooseAnotherStock"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})):this.currentobject.tr_Stock_Subs.length<=0?(this.stopBtn=!1,this.showToast(this.$t("generic.addProdutTotransfer"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})):(this.stopBtn=!0,this.currentobject.fK_Employees=1,this.currentobject.fK_Tr_Stock_Type=5,this.currentobject.fK_FromStock=this.fKStock.fromstock.id,this.currentobject.fK_ToStock=this.fKStock.tostock.id,void c["a"].create(this.currentobject).then((function(e){"true"===e.headers["x-status"]?(t.currentobject={tr_Stock_Subs:[]},t.fKProduct.value="",t.fKUint.value="",t.fKStock.fromstock="",t.fKStock.tostock="",t.subs.quantity=null,t.stopBtn=!1,t.showToast(t.$t("generic.done"),{icon:"fa-check",position:"bottom-center",duration:2500,type:"success"})):(t.stopBtn=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"}))}),(function(e){console.error(e),t.stopBtn=!1,t.showToast(t.$t("generic.error"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})})))},addToSubsfun:function(){if(this.stopBtn=!0,null!==this.fKProduct.value&&""!==this.fKProduct.value&&null!==this.fKStock.fromstock&&""!==this.fKStock.fromstock&&null!==this.fKStock.tostock&&""!==this.fKStock.tostock&&null!==this.fKUint.value&&""!==this.fKUint.value){if(this.fKStock.tostock.id===this.fKStock.fromstock.id)return this.fKStock.fromstock="",this.fKStock.tostock="",this.stopBtn=!1,this.showToast(this.$t("generic.chooseAnotherStock"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"});this.subs.fK_Units=this.fKUint.value.id,this.subs.fK_Stock=this.fKStock.fromstock.id,this.subs.fK_Products=this.fKProduct.value.id,this.subs.units=this.fKUint.value.name,this.subs.tostock=this.fKStock.tostock.name,this.subs.fromstock=this.fKStock.fromstock.name,this.subs.products=this.fKProduct.value.name;var t=Object.assign({},this.subs);this.currentobject.tr_Stock_Subs.push(t),this.fKProduct.value="",this.fKUint.value="",this.subs.quantity=null,this.stopBtn=!1}else this.stopBtn=!1,this.showToast(this.$t("generic.filldata"),{icon:"fa-exclamation",position:"bottom-center",duration:2500,type:"error"})},deletafromsubs:function(t){this.currentobject.tr_Stock_Subs.splice(t,1)}}},l=u,f=(o("f62b"),o("2877")),d=Object(f["a"])(l,n,a,!1,null,null,null);e["default"]=d.exports},"75b5":function(t,e,o){"use strict";var n=o("c427");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),t}var r=function(){function t(){a(this,t)}return c(t,[{key:"getAll",value:function(){return n["a"].get("Stock")}},{key:"getAllPagnation",value:function(t){return n["a"].get("Stock",{params:t})}},{key:"get",value:function(t){return n["a"].get("Stock?Id=".concat(t))}},{key:"search",value:function(t){return n["a"].get("Stock/Search",{params:t})}},{key:"create",value:function(t){return n["a"].post("Stock",t)}},{key:"update",value:function(t,e){return n["a"].put("Stock?Id=".concat(t),e)}},{key:"delete",value:function(t){return n["a"].delete("Stock?Id=".concat(t))}}]),t}();e["a"]=new r},"966e":function(t,e,o){"use strict";var n=o("c427");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),t}var r=function(){function t(){a(this,t)}return c(t,[{key:"getAll",value:function(){return n["a"].get("Tr_Stock")}},{key:"getAllPagnation",value:function(t){return n["a"].get("Tr_Stock",{params:t})}},{key:"Seen",value:function(t){return n["a"].post("Tr_Stock/Seen",null,{params:t})}},{key:"isFinishToDelivery",value:function(t,e){return n["a"].put("Tr_Stock/IsFinishToDelivery",e,{params:t})}},{key:"get",value:function(t){return n["a"].get("Tr_Stock/getById?Id=".concat(t))}},{key:"create",value:function(t){return n["a"].post("Tr_Stock",t)}},{key:"search",value:function(t){return n["a"].get("Tr_Stock/Search",{params:t})}},{key:"update",value:function(t,e){return n["a"].put("Tr_Stock?Id=".concat(t),e)}},{key:"delete",value:function(t){return n["a"].delete("Tr_Stock?Id=".concat(t))}}]),t}();e["a"]=new r},b3a6:function(t,e,o){"use strict";var n=o("c427");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),t}var r=function(){function t(){a(this,t)}return c(t,[{key:"getAll",value:function(){return n["a"].get("Units")}},{key:"getAllPagnation",value:function(t){return n["a"].get("Units",{params:t})}},{key:"get",value:function(t){return n["a"].get("Units/getById?Id=".concat(t))}},{key:"search",value:function(t){return n["a"].get("Units/Search",{params:t})}},{key:"create",value:function(t){return n["a"].post("Units",t)}},{key:"update",value:function(t,e){return n["a"].put("Units?Id=".concat(t),e)}},{key:"delete",value:function(t){return n["a"].delete("Units?Id=".concat(t))}}]),t}();e["a"]=new r},c427:function(t,e,o){"use strict";var n=o("bc3a"),a=o.n(n);e["a"]=a.a.create({baseURL:"https://yellow-sun.net/api/v1/",headers:{"Content-type":"application/json"}})},d3d0:function(t,e,o){},e7c7:function(t,e,o){"use strict";var n=o("c427");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),t}var r=function(){function t(){a(this,t)}return c(t,[{key:"getAll",value:function(){return n["a"].get("Products")}},{key:"getAllPagnation",value:function(t){return n["a"].get("Products",{params:t})}},{key:"get",value:function(t){return n["a"].get("Products/getById?Id=".concat(t))}},{key:"search",value:function(t){return n["a"].get("Products/Search",{params:t})}},{key:"create",value:function(t){return n["a"].post("Products",t)}},{key:"update",value:function(t,e){return n["a"].put("Products?Id=".concat(t),e)}},{key:"delete",value:function(t){return n["a"].delete("Products?Id=".concat(t))}}]),t}();e["a"]=new r},f62b:function(t,e,o){"use strict";var n=o("d3d0"),a=o.n(n);a.a}}]);
//# sourceMappingURL=chunk-61f38971.0c70f3f6.js.map